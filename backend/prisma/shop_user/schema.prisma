// Per-shop user database schema: authentication and role management.
// One database per shop, holding only that shop's users.
generator client {
  provider = "prisma-client-js"
  output   = "../../node_modules/@prisma/client/shop_user"
}

datasource db {
  provider = "postgresql"
  url      = env("SHOP_USER_DATABASE_URL")
}

model ShopUser {
  id           Int      @id @default(autoincrement())
  username     String   @unique
  passwordHash String   @map("password_hash")
  role         String   @default("STAFF") // ADMIN or STAFF
  isActive     Boolean  @default(true) @map("is_active")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  @@map("shop_users")
}
